{"ast":null,"code":"import _defineProperty from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/cameronking/Desktop/duke-eats/src/components/Account/venmo.js\";\nimport React, { Component } from 'react';\nimport { withFirebase } from '../Firebase';\n\nvar VenmoChangeForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(VenmoChangeForm, _Component);\n\n  function VenmoChangeForm(props) {\n    var _this;\n\n    _classCallCheck(this, VenmoChangeForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VenmoChangeForm).call(this, props));\n\n    _this.onSubmit = function (event) {\n      var _this$state = _this.state,\n          venmo = _this$state.venmo,\n          uid = _this$state.uid;\n\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      _this.props.firebase.db.ref('users/' + uid + '/venmo').set(venmo).then(function () {\n        self.getVenmo();\n      }).catch(function (error) {\n        _this.setState({\n          error: error\n        });\n      });\n\n      _this.setState({\n        submitted: true\n      });\n\n      event.preventDefault();\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.state = {\n      error: null,\n      uid: _this.props.firebase.auth.currentUser.uid,\n      venmo: '',\n      submitted: false\n    };\n    return _this;\n  }\n\n  _createClass(VenmoChangeForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getVenmo();\n    }\n  }, {\n    key: \"getVenmo\",\n    value: function getVenmo() {\n      var uid = this.state.uid;\n      var self = this;\n      this.props.firebase.user(uid).once('value').then(function (snapshot) {\n        var ven = snapshot.val().venmo;\n        self.setState({\n          venmo: ven\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          venmo = _this$state2.venmo,\n          error = _this$state2.error,\n          submitted = _this$state2.submitted;\n      var isInvalid = venmo === '';\n      return React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        className: \"form-inline d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"venmo\",\n        value: venmo,\n        className: \"form-control flex-fill mr-0 mr-sm-2 mb-3 mb-sm-0\",\n        onChange: this.onChange,\n        type: \"text\",\n        placeholder: venmo,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        disabled: isInvalid,\n        type: \"submit\",\n        className: \"btn btn-light mx-auto custom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Change My Venmo Handle\"), error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, error.message), submitted && React.createElement(\"h2\", {\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Venmo Handle Changed\"));\n    }\n  }]);\n\n  return VenmoChangeForm;\n}(Component);\n\nexport default withFirebase(VenmoChangeForm);","map":{"version":3,"sources":["/Users/cameronking/Desktop/duke-eats/src/components/Account/venmo.js"],"names":["React","Component","withFirebase","VenmoChangeForm","props","onSubmit","event","state","venmo","uid","self","firebase","db","ref","set","then","getVenmo","catch","error","setState","submitted","preventDefault","onChange","target","name","value","auth","currentUser","user","once","snapshot","ven","val","isInvalid","message","color"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SAASC,YAAT,QAA6B,aAA7B;;IAIQC,e;;;;;AACJ,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,yFAAMA,KAAN;;AADiB,UAwBnBC,QAxBmB,GAwBR,UAAAC,KAAK,EAAI;AAAA,wBACK,MAAKC,KADV;AAAA,UACVC,KADU,eACVA,KADU;AAAA,UACHC,GADG,eACHA,GADG;;AAElB,UAAMC,IAAI,wDAAV;;AACA,YAAKN,KAAL,CAAWO,QAAX,CACGC,EADH,CACMC,GADN,CACU,WAAWJ,GAAX,GAAiB,QAD3B,EACqCK,GADrC,CAEMN,KAFN,EAIGO,IAJH,CAIQ,YAAM;AACVL,QAAAA,IAAI,CAACM,QAAL;AACD,OANH,EAOGC,KAPH,CAOS,UAAAC,KAAK,EAAI;AACd,cAAKC,QAAL,CAAc;AAAED,UAAAA,KAAK,EAALA;AAAF,SAAd;AACD,OATH;;AAUE,YAAKC,QAAL,CAAc;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAAd;;AACFd,MAAAA,KAAK,CAACe,cAAN;AACD,KAvCkB;;AAAA,UAyCnBC,QAzCmB,GAyCR,UAAAhB,KAAK,EAAI;AAClB,YAAKa,QAAL,qBAAiBb,KAAK,CAACiB,MAAN,CAAaC,IAA9B,EAAqClB,KAAK,CAACiB,MAAN,CAAaE,KAAlD;AACD,KA3CkB;;AAGjB,UAAKlB,KAAL,GAAa;AACXW,MAAAA,KAAK,EAAE,IADI;AAEXT,MAAAA,GAAG,EAAE,MAAKL,KAAL,CAAWO,QAAX,CAAoBe,IAApB,CAAyBC,WAAzB,CAAqClB,GAF/B;AAGXD,MAAAA,KAAK,EAAE,EAHI;AAIXY,MAAAA,SAAS,EAAE;AAJA,KAAb;AAHiB;AASlB;;;;wCAEmB;AAChB,WAAKJ,QAAL;AACH;;;+BAES;AAAA,UACEP,GADF,GACU,KAAKF,KADf,CACEE,GADF;AAEN,UAAMC,IAAI,GAAG,IAAb;AACA,WAAKN,KAAL,CAAWO,QAAX,CAAoBiB,IAApB,CAAyBnB,GAAzB,EAA8BoB,IAA9B,CAAmC,OAAnC,EAA4Cd,IAA5C,CAAiD,UAASe,QAAT,EAAmB;AAChE,YAAMC,GAAG,GAAGD,QAAQ,CAACE,GAAT,GAAexB,KAA3B;AACAE,QAAAA,IAAI,CAACS,QAAL,CAAc;AAAEX,UAAAA,KAAK,EAAEuB;AAAT,SAAd;AACH,OAHD;AAIH;;;6BAuBQ;AAAA,yBAC6B,KAAKxB,KADlC;AAAA,UACCC,KADD,gBACCA,KADD;AAAA,UACQU,KADR,gBACQA,KADR;AAAA,UACeE,SADf,gBACeA,SADf;AAEP,UAAMa,SAAS,GACbzB,KAAK,KAAK,EADZ;AAEA,aACE;AAAM,QAAA,QAAQ,EAAE,KAAKH,QAArB;AAA+B,QAAA,SAAS,EAAC,oBAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AACE,QAAA,IAAI,EAAC,OADP;AAEE,QAAA,KAAK,EAAEG,KAFT;AAGE,QAAA,SAAS,EAAC,kDAHZ;AAIE,QAAA,QAAQ,EAAE,KAAKc,QAJjB;AAKE,QAAA,IAAI,EAAC,MALP;AAME,QAAA,WAAW,EAAGd,KANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EASE;AAAQ,QAAA,QAAQ,EAAEyB,SAAlB;AAA6B,QAAA,IAAI,EAAC,QAAlC;AAA2C,QAAA,SAAS,EAAC,8BAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCATF,EAaGf,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIA,KAAK,CAACgB,OAAV,CAbZ,EAcGd,SAAS,IAAI;AAAI,QAAA,KAAK,EAAE;AAAEe,UAAAA,KAAK,EAAE;AAAT,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAdhB,CADF;AAkBD;;;;EApE2BlC,S;;AAuE9B,eAAeC,YAAY,CAACC,eAAD,CAA3B","sourcesContent":["import React, { Component } from 'react';\n\nimport { withFirebase } from '../Firebase';\n\n\n  \n  class VenmoChangeForm extends Component {\n    constructor(props) {\n      super(props);\n  \n      this.state = { \n        error: null,\n        uid: this.props.firebase.auth.currentUser.uid,\n        venmo: '',\n        submitted: false,\n      };\n    }\n    \n    componentDidMount() {\n        this.getVenmo();\n    }\n\n    getVenmo(){\n        const { uid } = this.state;\n        const self = this;\n        this.props.firebase.user(uid).once('value').then(function(snapshot) {\n            const ven = snapshot.val().venmo;\n            self.setState({ venmo: ven });\n        })\n    }\n\n    onSubmit = event => {\n      const { venmo, uid } = this.state;\n      const self = this;\n      this.props.firebase\n        .db.ref('users/' + uid + '/venmo').set(\n            venmo\n        ) \n        .then(() => {\n          self.getVenmo();\n        })\n        .catch(error => {\n          this.setState({ error });\n        });\n        this.setState({ submitted: true })\n      event.preventDefault();\n    };\n  \n    onChange = event => {\n      this.setState({ [event.target.name]: event.target.value });\n    };\n  \n    render() {\n      const { venmo, error, submitted } = this.state;\n      const isInvalid =\n        venmo === '';\n      return (\n        <form onSubmit={this.onSubmit} className=\"form-inline d-flex\">\n          <input\n            name=\"venmo\"\n            value={venmo}\n            className=\"form-control flex-fill mr-0 mr-sm-2 mb-3 mb-sm-0\"\n            onChange={this.onChange}\n            type=\"text\"\n            placeholder= {venmo}\n          />\n          <button disabled={isInvalid} type=\"submit\" className=\"btn btn-light mx-auto custom\">\n            Change My Venmo Handle\n          </button>\n  \n          {error && <p>{error.message}</p>}\n          {submitted && <h2 style={{ color: 'white' }}>Venmo Handle Changed</h2>}\n        </form>\n      );\n    }\n  }\n  \n  export default withFirebase(VenmoChangeForm);"]},"metadata":{},"sourceType":"module"}