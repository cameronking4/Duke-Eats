{"ast":null,"code":"import _defineProperty from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/cameronking/Desktop/duke-eats/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/cameronking/Desktop/duke-eats/src/components/Account/address.js\";\nimport React, { Component } from 'react';\nimport { withFirebase } from '../Firebase';\n\nvar AddressChangeForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddressChangeForm, _Component);\n\n  function AddressChangeForm(props) {\n    var _this;\n\n    _classCallCheck(this, AddressChangeForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddressChangeForm).call(this, props));\n\n    _this.onSubmit = function (event) {\n      var _this$state = _this.state,\n          address = _this$state.address,\n          uid = _this$state.uid;\n\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      _this.props.firebase.db.ref('users/' + uid + '/address').set(address).then(function () {\n        self.getAddress();\n      }).catch(function (error) {\n        _this.setState({\n          error: error\n        });\n      });\n\n      _this.setState({\n        submitted: true\n      });\n\n      event.preventDefault();\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.state = {\n      error: null,\n      uid: _this.props.firebase.auth.currentUser.uid,\n      address: '',\n      submitted: false\n    };\n    return _this;\n  }\n\n  _createClass(AddressChangeForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAddress();\n    }\n  }, {\n    key: \"getAddress\",\n    value: function getAddress() {\n      var uid = this.state.uid;\n      var self = this;\n      this.props.firebase.user(uid).once('value').then(function (snapshot) {\n        var add = snapshot.val().address;\n        self.setState({\n          address: add\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          address = _this$state2.address,\n          error = _this$state2.error,\n          submitted = _this$state2.submitted;\n      var isInvalid = address === '';\n      return React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        className: \"form-inline d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"address\",\n        value: address,\n        className: \"form-control flex-fill mr-0 mr-sm-2 mb-3 mb-sm-0\",\n        onChange: this.onChange,\n        type: \"text\",\n        placeholder: address,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        disabled: isInvalid,\n        type: \"submit\",\n        className: \"btn btn-light mx-auto custom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Change My Default Address\"), error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, error.message), submitted && React.createElement(\"h2\", {\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Address Changed\"));\n    }\n  }]);\n\n  return AddressChangeForm;\n}(Component);\n\nexport default withFirebase(AddressChangeForm);","map":{"version":3,"sources":["/Users/cameronking/Desktop/duke-eats/src/components/Account/address.js"],"names":["React","Component","withFirebase","AddressChangeForm","props","onSubmit","event","state","address","uid","self","firebase","db","ref","set","then","getAddress","catch","error","setState","submitted","preventDefault","onChange","target","name","value","auth","currentUser","user","once","snapshot","add","val","isInvalid","message","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport { withFirebase } from '../Firebase';\n\n  \n  class AddressChangeForm extends Component {\n    constructor(props) {\n      super(props);\n  \n      this.state = { \n        error: null,\n        uid: this.props.firebase.auth.currentUser.uid,\n        address: '',\n        submitted: false,\n      };\n    }\n    \n    componentDidMount() {\n        this.getAddress();\n    }\n\n    getAddress(){\n        const { uid } = this.state;\n        const self = this;\n        this.props.firebase.user(uid).once('value').then(function(snapshot) {\n            const add = snapshot.val().address;\n            self.setState({ address: add });\n        })\n    }\n\n    onSubmit = event => {\n      const { address, uid } = this.state;\n      const self = this;\n      this.props.firebase\n        .db.ref('users/' + uid + '/address').set(\n            address\n        ) \n        .then(() => {\n          self.getAddress();\n        })\n        .catch(error => {\n          this.setState({ error });\n        });\n        this.setState({ submitted: true })\n      event.preventDefault();\n    };\n  \n    onChange = event => {\n      this.setState({ [event.target.name]: event.target.value });\n    };\n  \n    render() {\n      const { address, error, submitted } = this.state;\n      const isInvalid =\n        address === '';\n      return (\n        <form onSubmit={this.onSubmit} className=\"form-inline d-flex\">\n          <input\n            name=\"address\"\n            value={address}\n            className=\"form-control flex-fill mr-0 mr-sm-2 mb-3 mb-sm-0\"\n            onChange={this.onChange}\n            type=\"text\"\n            placeholder= {address}\n          />\n          <button disabled={isInvalid} type=\"submit\" className=\"btn btn-light mx-auto custom\">\n            Change My Default Address\n          </button>\n  \n          {error && <p>{error.message}</p>}\n          {submitted && <h2 style={{ color: 'white' }}>Address Changed</h2>}\n        </form>\n      );\n    }\n  }\n  \n  export default withFirebase(AddressChangeForm);"]},"metadata":{},"sourceType":"module"}